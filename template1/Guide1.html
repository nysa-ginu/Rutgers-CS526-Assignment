<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Welcome file</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h1 id="template-of-assignment-1">Template of Assignment 1</h1>
<h2 id="what-is-included-in-the-template">What is Included in the Template</h2>
<ul>
<li>
<p>A Working Web Application which is a “simple todo list” (😎 Don’t worry, it’s working)</p>
</li>
<li>
<p>Very simple user login and signup logic</p>
</li>
<li>
<p>Basic CRUD operations (Create, Read, Update, and Delete)</p>
</li>
</ul>
<h2 id="intro-to-the-architecture">Intro to the architecture</h2>
<p>Web Application</p>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-EVAjHsXdNT7zZlib" width="100%" style="max-width: 492.53125px;" viewBox="0 0 492.53125 71.75"><g transform="translate(-12, -12)"><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath" style="opacity: 1;"><path class="path" d="M154.9375,47.875L179.9375,47.875L204.9375,47.875" marker-end="url(#arrowhead62)" style="fill:none"></path><defs><marker id="arrowhead62" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M295.140625,41.441254318511085L320.140625,37.875L345.140625,40.357737217782606" marker-end="url(#arrowhead63)" style="fill:none"></path><defs><marker id="arrowhead63" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M345.140625,55.392262782217394L320.140625,57.875L295.140625,54.308745681488915" marker-end="url(#arrowhead64)" style="fill:none"></path><defs><marker id="arrowhead64" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node" id="A" transform="translate(87.46875,47.875)" style="opacity: 1;"><rect rx="5" ry="5" x="-67.46875" y="-27.875" width="134.9375" height="55.75"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-57.46875,-17.875)"><foreignObject width="114.94140625" height="35.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Java Servlet</div></foreignObject></g></g></g><g class="node" style="opacity: 1;" id="B" transform="translate(250.0390625,47.875)"><rect rx="5" ry="5" x="-45.1015625" y="-27.875" width="90.203125" height="55.75"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-35.1015625,-17.875)"><foreignObject width="70.2109375" height="35.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Tomcat</div></foreignObject></g></g></g><g class="node" style="opacity: 1;" id="C" transform="translate(420.8359375,47.875)"><rect rx="5" ry="5" x="-75.6953125" y="-27.875" width="151.390625" height="55.75"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-65.6953125,-17.875)"><foreignObject width="131.3984375" height="35.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Web Broswer</div></foreignObject></g></g></g></g></g></g></svg></div>
<p>Backend</p>
<ul>
<li>
<p>Java 1.7</p>
</li>
<li>
<p>javax.servlet-api 4.0.0</p>
</li>
<li>
<p>Tomcat 7</p>
</li>
<li>
<p>Maven</p>
</li>
</ul>
<p>Frontend</p>
<ul>
<li>
<p>HTML, CSS, JS</p>
</li>
<li>
<p>Bootstrap 3.0.0 for CSS styling</p>
</li>
</ul>
<h2 id="step-by-step-environment-setup-guide">Step-by-step Environment Setup Guide</h2>
<p>The following guide is base on <strong>CentOS 7</strong> machine. (Kernel Version x86_64 Linux 3.10.0-1062.9.1.el7.x86_64)</p>
<h3 id="install-java-7">Install Java 7</h3>
<pre class=" language-bash"><code class="prism  language-bash">
$ <span class="token function">sudo</span> yum <span class="token function">install</span> java-1.7.0-openjdk-devel

</code></pre>
<p>Warning Again : If you are on a different linux distribution other than <strong>CentOS</strong>, you may have to use a different approach for every step.</p>
<p>By the way, to check the version of your default Java, run this command:</p>
<pre class=" language-bash"><code class="prism  language-bash">
$ java --version

</code></pre>
<p>If you have different Java version installed locally, you may want to use <strong>alternative</strong> command.</p>
<pre class=" language-bash"><code class="prism  language-bash">
<span class="token function">sudo</span> alternatives --config java

</code></pre>
<p>Here is an example of the output:</p>
<pre><code>
There are 5 programs which provide 'java'.

  

Selection Command

-----------------------------------------------

1 java-1.7.0-openjdk.x86_64 (/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.161-2.6.12.0.el7_4.x86_64/jre/bin/java)

2 java-1.8.0-openjdk.x86_64 (/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.151-5.b12.el7_4.x86_64/jre/bin/java)

  
  

Enter to keep the current selection[+], or type selection number:

</code></pre>
<h3 id="install-maven">Install Maven</h3>
<pre class=" language-bash"><code class="prism  language-bash">
$ <span class="token function">sudo</span> yum <span class="token function">install</span> maven

</code></pre>
<p>Verify the installation</p>
<pre class=" language-bash"><code class="prism  language-bash">
$ mvn -version

</code></pre>
<p>Output:</p>
<pre><code>
Apache Maven 3.0.5 (Red Hat 3.0.5-17)

Maven home: /usr/share/maven

Java version: 1.7.0_241, vendor: Oracle Corporation

Java home: /usr/lib/jvm/java-1.7.0-openjdk-1.7.0.241-2.6.20.0.el7_7.x86_64/jre

Default locale: en_US, platform encoding: UTF-8

OS name: "linux", version: "3.10.0-1062.9.1.el7.x86_64", arch: "amd64", family: "unix"

</code></pre>
<h3 id="install-and-configure-mysql">Install and Configure MySQL</h3>
<pre class=" language-bash"><code class="prism  language-bash">
$ <span class="token function">sudo</span> yum localinstall https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm

$ <span class="token function">sudo</span> yum <span class="token function">install</span> mysql-community-server

</code></pre>
<p><strong>Starting MySQL</strong></p>
<p>Once the installation is completed, start the MySQL service and enable it to automatically start on boot with:</p>
<pre class=" language-bash"><code class="prism  language-bash">
$ <span class="token function">sudo</span> systemctl <span class="token function">enable</span> mysqld

$ <span class="token function">sudo</span> systemctl start mysqld

</code></pre>
<p>We can check the MySQL service status by typing:</p>
<pre class=" language-bash"><code class="prism  language-bash">
<span class="token function">sudo</span> systemctl status mysqld

</code></pre>
<p>Output</p>
<pre><code>
● mysqld.service - MySQL Server

Loaded: loaded (/usr/lib/systemd/system/mysqld.service; enabled; vendor preset: disabled)

Active: active (running) since Wed 2018-05-23 11:02:43 UTC; 14min ago

Docs: man:mysqld(8)

http://dev.mysql.com/doc/refman/en/using-systemd.html

Process: 4293 ExecStartPre=/usr/bin/mysqld_pre_systemd (code=exited, status=0/SUCCESS)

Main PID: 4310 (mysqld)

Status: "SERVER_OPERATING"

CGroup: /system.slice/mysqld.service

└─4310 /usr/sbin/mysqld

</code></pre>
<p><strong>Securing MySQL</strong></p>
<p>Get the auto-generated password</p>
<pre class=" language-bash"><code class="prism  language-bash">
$ <span class="token function">sudo</span> <span class="token function">grep</span> <span class="token string">'temporary password'</span> /var/log/mysqld.log

</code></pre>
<p>Output</p>
<pre><code>
A temporary password is generated for root@localhost: q&amp;0)V!?fjksL

</code></pre>
<p>Run the <code>mysql_secure_installation</code> command to improve the security of our MySQL installation:</p>
<pre class=" language-bash"><code class="prism  language-bash">
$ <span class="token function">sudo</span> mysql_secure_installation

</code></pre>
<p>The script will also ask you to remove the anonymous user, restrict root user access to the local machine and remove the test database. You should answer “Y” (yes) to all questions.</p>
<p><strong>Connecting to MySQL from the command line</strong></p>
<p>To log in to the MySQL server as the root user type:</p>
<pre class=" language-bash"><code class="prism  language-bash">
mysql -u root -p

</code></pre>
<p><strong>Create a Database</strong></p>
<p>Once you are connected to the MySQL shell, you can create a new database by typing the following command:</p>
<pre class=" language-sql"><code class="prism  language-sql">
<span class="token keyword">CREATE</span>  <span class="token keyword">DATABASE</span> list<span class="token punctuation">;</span>

</code></pre>
<p><strong>Create a Table</strong></p>
<p>You don’t have to create a table yourself. The Java servlet application will create it for you on the fly when it is running.</p>
<p><strong>Create a MySQL User</strong></p>
<pre class=" language-sql"><code class="prism  language-sql">
<span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">'boss'</span>@'localhost<span class="token string">' IDENTIFIED BY  '</span>AAAAAbbbbb888<span class="token punctuation">;</span><span class="token number">8</span><span class="token string">';

GRANT ALL PRIVILEGES ON list.*  TO  '</span>boss<span class="token string">'@'</span>localhost<span class="token string">';

ALTER USER '</span>boss<span class="token string">'@'</span>localhost<span class="token string">' IDENTIFIED WITH mysql_native_password BY  '</span>AAAAAbbbbb888<span class="token punctuation">;</span><span class="token number">8</span>'<span class="token punctuation">;</span>

FLUSH <span class="token keyword">PRIVILEGES</span><span class="token punctuation">;</span>

</code></pre>
<p>Make sure you copy-paste the above commands. They are very important.</p>
<h2 id="run-the-application">Run the Application</h2>
<p>cd into the project template folder</p>
<pre class=" language-bash"><code class="prism  language-bash">
$ mvn tomcat:run

</code></pre>
<p>Go to you web browser, navigate to <code>ip-of-your-server:8080\my-webapp</code></p>
<p>If you host the service on local machine, go to <code>localhost:8080\my-webapp</code></p>
<p>You can register an account and login to see if everything is right.</p>
<p><img src="https://i.loli.net/2020/01/27/A2mKyRjEMCILSWY.png" alt="526-1.PNG"></p>
<p><img src="https://i.loli.net/2020/01/27/vGA82QHc4dhBqg5.png" alt="526-2.PNG"></p>
<dl>
<dt>Authors</dt>
<dd>Enkai Ji</dd>
</dl>
</div>
</body>

</html>
